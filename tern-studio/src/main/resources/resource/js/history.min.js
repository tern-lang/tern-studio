define("require exports jquery w2ui ./common tree editor explorer".split(" "),function(n,d,e,g,h,k,l,m){(function(c){function d(){var a=window.location.hash,b=a.indexOf("#");-1!=b&&(a=a.substring(b+1),a=k.FileTree.createResourcePath(a),b=l.FileEditor.currentEditorState().getResource(),null!=b&&b.getResourcePath()==a.getResourcePath()||m.FileExplorer.openTreeFile(a.getResourcePath(),function(){}))}c.trackHistory=function(){e(window).on("hashchange",function(){d()});d(200)};c.showFileHistory=function(){var a=
l.FileEditor.currentEditorState(),b=a.getResource();b||console.log("Editor path does not exist: ",a);a=b.getProjectPath();e.ajax({url:"/history/"+h.Common.getProjectName()+a,success:function(a){for(var b=[],d=1,c=0;c<a.length;c++){var f=a[c],e=k.FileTree.createResourcePath(f.path);b.push({recid:d++,resource:"\x3cdiv class\x3d'historyPath'\x3e"+e.getFilePath()+"\x3c/div\x3e",date:h.Common.formatDateWithPattern(f.date,"EEEE, MMMM d, yyyy HH:mm:ss"),time:f.timeStamp,script:e.getResourcePath()})}g.w2ui.history.records=
b;g.w2ui.history.refresh()},async:!0})};c.navigateForward=function(){window.history.forward()};c.navigateBackward=function(){-1!=window.location.hash.indexOf("#")&&window.history.back()}})(d.History||(d.History={}))});
