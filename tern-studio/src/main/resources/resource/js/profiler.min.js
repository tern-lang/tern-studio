define("require exports w2ui common socket tree".split(" "),function(q,b,g,m,k,n){(function(b){function p(d,b,e){d=JSON.parse(e).results;b=[];e=[];for(var g=1,c=0,a=0;a<d.length;a++)c+=d[a].time;for(a=0;a<d.length;a++){var f=d[a].time;0<f&&(e[a]=f/c*100)}for(a=0;a<d.length;a++){var c=d[a],l=("0000"+e[a]).slice(-4),f=n.FileTree.createResourcePath(c.resource),h="\x3cdiv class\x3d'profilerRecord'\x3e"+f.getProjectPath()+"\x3c/div\x3e",l="\x3c!-- "+l+" --\x3e\x3cdiv style\x3d'padding: 2px;'\x3e\x3cdiv style\x3d'height: 10px; background: #ed6761; width: "+
e[a]+"%;'\x3e\x3c/div\x3e\x3c/div\x3e",k=c.time/c.count/1E3;b.push({recid:g++,resource:h,percentage:l,duration:c.time,line:c.line,count:c.count,average:k.toFixed(5),script:f.getResourcePath()})}m.Common.updateTableRecords(b,"profiler")}function h(){g.w2ui.profiler.records=[];g.w2ui.profiler.refresh()}b.startProfiler=function(){k.EventBus.createRoute("PROFILE",p,h)};b.clearProfiler=h})(b.Profiler||(b.Profiler={}))});
